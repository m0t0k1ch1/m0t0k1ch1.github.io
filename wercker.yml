box: golang
pre:
  steps:
    - script:
        name: output message
        code: |
          echo 'start to build & deploy'
build:
  steps:
    - script:
        name: initialize git submodules
        code: |
          git submodule update --init --recursive
    - arjen/hugo-build:
        version: "0.18"
        flags: -v --buildDrafts=true
    - script:
        name: copy wercker.yml
        code: |
          cp wercker.yml public
deploy:
  steps:
    - lukevivier/gh-pages:
        token: $GIT_TOKEN
        domain: m0t0k1ch1st0ry.com
        basedir: public
