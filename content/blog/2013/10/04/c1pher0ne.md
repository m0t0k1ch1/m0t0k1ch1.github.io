+++
title = 'Twitter bot にリマインダー機能を実装してみた'
tags = ['api', 'c1pher0ne', 'perl']
date = '2013-10-04'
+++

{{< figure src="/img/entry/c1pher0ne-on.png" >}}

表題の通り、[先日のブログ]({{< ref "/blog/2013/09/30/c1pher0ne.md" >}}) でご紹介した [01](http://twitter.com/c1pher0ne) にリマインダー機能を実装しました。  
これ、誰でも使えるので、みなさんもお構いなくお使いください（とか言うと一瞬でバグを見つけられそうですが）。

<!--more-->

## どうやって使うの？？

- `#remind` というハッシュタグと `****/**/** **:**` というフォーマットでリマインドしてほしい日時を末尾に添えて、[@c1pher0ne](http://twitter.com/c1pher0ne) にメンションをとばします
- 成功していると、リプライが返ってきます
- 具体的には以下のような感じです

{{< tweet 385343920579674112 >}}

- すると、指定した日時にメンションを飛ばしてくれます
- この日、僕はこのリマインドのおかげで無事に「[地獄でなぜ悪い](http://play-in-hell.com)」を観ることができました

{{< tweet 385375627399806977 >}}

- ちなみに、寝てるときに頼んでも嫌々ながら引き受けてくれます

{{< tweet 385819054293794816 >}}
{{< tweet 385932525358428160 >}}

- 過去へのリマインドを登録しようとすると現実が見れます

{{< tweet 386051581470208000 >}}

## どうやってやってるの？？

- 瀕死状態だったさくらの VPS を復活させ、cron で「メンションを解析して保存するバッチ」と「保存したデータをツイートするバッチ」を走らせています
- ※追記
  - 現在は [AnyEvent::Twitter::Stream](http://search.cpan.org/~miyagawa/AnyEvent-Twitter-Stream-0.26/lib/AnyEvent/Twitter/Stream.pm) を使っています

## 珍しく告知

ちなみに、上に貼ったツイートの中で出てきた「サムライのやつ」っていうのは [これ](http://kiban.doorkeeper.jp/events/5291) です。  
10/12（土）に、大先輩の [@fujiwara](https://twitter.com/fujiwara) さんと共に発表させていただきます。

恥かかないようにがんばりますので、興味のある方は是非ご参加ください。
